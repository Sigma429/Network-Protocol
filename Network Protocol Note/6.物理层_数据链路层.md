##  1.OSI

### 1.1网络互连模型

![image-20230914172205576](imgs\image-20230914172205576.png)

### 1.2请求过程

在进行三次握手时，TCP 协议确实依赖于网络层（OSI 模型中的第三层）提供的 IP（Internet Protocol）服务来传输数据包

（运输层经网络层、数据链路层、物理层的添加与拆解进行传输，而不是直接传到对应层），**但握手过程本身是在传输层完成的**

不管是哪层的协议，请求过程都依照下图

![image-20230914172648627](imgs\image-20230914172648627.png)

### 1.3网络分层

![image-20230914172947408](imgs\image-20230914172947408.png)

 

## 2.物理层 

集线器-物理层

网卡、交换机-数据链路层、物理层

路由器-网络层、数据链路层、物理层

![image-20230915150816700](imgs\image-20230915150816700.png)

![image-20230915151859826](imgs\image-20230915151859826.png)

![image-20230915153014854](imgs\image-20230915153014854.png)

![image-20230915161506150](imgs\image-20230915161506150.png)

## 3.数据链路层

不同类型的数据链路，数据不一样，因为封装的方式不一样 

局域网内走的是CSMA/CD协议，网络层拿到数据包，首尾封装成帧，到路由器后，拿过来依然是上一层的数据包，会加上PPP协议的首尾部分封装成帧

中间应用层、运输层、网络层的部分不变，变的是数据链路层的首尾部

集线器是用的CSMA/CD协议， 交换机不用CSMA/CD协议，但传的东西一样，都叫以太网帧

![image-20230915174624926](imgs\image-20230915174624926.png)

### 3.1封装成帧

以太网（Ethernet）是一种计算机网络技术，而CSMA/CD是一种以太网使用的协议。

![image-20230915181300591](imgs\image-20230915181300591.png)

### 3.2 透明传输

![image-20230915191225398](imgs\image-20230915191225398.png)

![image-20230915182755860](imgs\image-20230915182755860.png)

### 3.3差错检验

![image-20230915190709046](imgs\image-20230915190709046.png)

## 4.CSMA/CD协议

载波监听多路访问/冲突检测

载波监听：监听线路上有没有东西    多路访问：多台设备都可以发    冲突检测：多台设备发东西，产生冲突，一碰撞信号就会回弹， 

设备就要判断回来的信息是别人要发给你的有用的信息，还是产生冲突弹回来的（冲突信号）

![image-20230915204434194](imgs\image-20230915204434194.png)

 发生冲突时，判断回来的东西是正常的还是有冲突的

以太网的帧要足够长，冲突回来了，发现还在发，就是冲突的

正常传输是信道 的两倍，至少要64个字节

![image-20230915210646778](imgs\image-20230915210646778.png)

![image-20230915210945812](C:\Users\10597\AppData\Roaming\Typora\typora-user-images\image-20230915210945812.png)

## 5.   Ethernet V2帧的格式

以太网帧一旦使用曼彻斯特编码，就不需要帧开始符和帧结束符

前同步码是物理层加的东西，获取一些通信相关的东西，比如频率之类

![image-20230918105052829](imgs\image-20230918105052829.png)

网络层数据过多时，会拆分成很多帧，发送过去，那边再把这些帧组合起来，变成一个完整的网络层传出去   

![image-20230918105034422](imgs\image-20230918105034422.png)

![image-20230919113912569](imgs\image-20230919113912569.png)



## 6.PPP协议

路由器和交换机连接是以太网帧，路由器之间连接是PPP协议

广播信道，为确认广播出去谁应该收，出现源mac和目标mac地址

点对点信道，一定是两者之间，没有其他掺和，不需要源mac，目标mac

![image-20230918111224549](imgs\image-20230918111224549.png)

![image-20230918134548147](imgs\image-20230918134548147.png)

## 7. 网卡

 ![image-20230918185443427](imgs\image-20230918185443427.png)

